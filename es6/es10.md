<!--
 * @Author: your name
 * @Date: 2020-07-31 16:19:29
 * @LastEditTime: 2020-08-01 05:13:00
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: /study/es6/es10.md
--> 
## ES10新特性
### 1 Array.prototype.flat()
flat() 方法会按照一个*可指定*的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个*新数组返回*。
```js
newArray = arr.flat(depth) // depth是指定要提取嵌套数组的结构深度，默认值为 1   
```
## 兼容性
chrome 69
edge No
firfox 62
IE No
opers 56
Safiri 12
android vewbview 69
chrome for android 69
firefox for android 62
opera for android 48
safari for ios 12
sumsung internet 10.0
nodejs 11.0.0

### 2 Array.prototype.flatMap()
没看懂有啥作用

### 3 Object.fromEntries()
Object.fromEntries 这个新的API实现了与 Object.entries 相反的操作。这使得根据对象的 entries 很容易得到 object
```js
const object = { x: 23, y:24 };
const entries = Object.entries(object); // [['x', 23], ['y', 24]]
const result = Object.fromEntries(entries); // { x: 23, y: 24 }
```
ES2017引入了Object.entries, 这个方法可以将对象转换为数组,这样对象就可以使用数组原型中的众多内置方法，比如map, filter、reduce，举个例子，我们想提取下列对象obj中所有value大于21的键值对，如何操作呢？
```js
// ES10之前
const obj = {
  a: 21,
  b: 22,
  c: 23
}
console.log(Object.entries(obj)) // [['a',21],["b", 22],["c", 23]]
let arr = Object.entries(obj).filter(([a, b]) => b > 21) // [["b", 22],["c", 23]]
let obj1 = {}
for (let [name, age] of arr) {
  obj1[name] = age
}
console.log(obj1) // {b: 22, c: 23}
```
上例中得到了数组arr，想再次转化为对象，就需要手动写一些代码来处理，但是有了Object.fromEntries()就很容易实现
```js
// 用Object.fromEntries()来实现
const obj = {
  a: 21,
  b: 22,
  c: 23
}
let res = Object.fromEntries(Object.entries(obj).filter(([a, b]) => b > 21))
console.log(111, res) // {b: 22, c: 23}
```
## 兼容性
chrome 73
edge No
firfox 63
IE No
opers 60
Safiri 12.1
android vewbview 73
chrome for android 73
firefox for android 63
opera for android NO
safari for ios 12.2
sumsung internet No
nodejs 12.0.0

### 4.String.trimStart 和 String.trimEnd
移除开头和结尾的空格，之前我们用正则表达式来实现，现在ES10新增了两个新特性，让这变得更简单！
trimStart() 方法从字符串的开头删除空格，trimLeft()是此方法的别名。
```js
let str = ' 前端工匠 '
console.log(str.length) // 6
str = str.trimStart()
console.log(str.length) // 5
let str1 = str.trim() // 清除前后的空格
console.log(str1.length) // 4
str.replace(/^\s+/g, '') // 也可以用正则实现开头删除空格
```
trimEnd() 方法从一个字符串的右端移除空白字符，trimRight 是 trimEnd 的别名。
```js
let str = ' 浪里行舟 '
console.log(str.length) // 6
str = str.trimEnd()
console.log(str.length) // 5
let str1 = str.trim() //清除前后的空格
console.log(str1.length) // 4
str.replace(/\s+$/g, '') // 也可以用正则实现右端移除空白字符
```
## 兼容性
chrome 66
edge 12
firfox 61
IE No
opers 53
Safiri 12
android vewbview 66
chrome for android 66
firefox for android 61
opera for android 47
safari for ios 12
sumsung internet 9
nodejs 10.0.0

### 5.String.prototype.matchAll
如果一个正则表达式在字符串里面有多个匹配，现在一般使用g修饰符或y修饰符，在循环里面逐一取出
```js
function collectGroup1 (regExp, str) {
  const matches = []
  while (true) {
    const match = regExp.exec(str)
    if (match === null) break
    matches.push(match[1])
  }
  return matches
}
console.log(collectGroup1(/"([^"]*)"/g, `"foo" and "bar" and "baz"`))
// [ 'foo', 'bar', 'baz' ]
```
值得注意的是，如果没有修饰符 /g, .exec() 只返回第一个匹配。
现在通过ES9的String.prototype.matchAll方法，可以一次性取出所有匹配。
```js
function collectGroup1 (regExp, str) {
  let results = []
  for (const match of str.matchAll(regExp)) {
    results.push(match[1])
  }
  return results
}
console.log(collectGroup1(/"([^"]*)"/g, `"foo" and "bar" and "baz"`))
// ["foo", "bar", "baz"]
```
上面代码中，由于string.matchAll(regex)返回的是遍历器，所以可以用for...of循环取出。

### 兼容性
```js

```